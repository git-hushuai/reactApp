{"ast":null,"code":"import _classCallCheck from \"/Users/ewg_mac1/Desktop/Code/ReactCode/DNReact/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ewg_mac1/Desktop/Code/ReactCode/DNReact/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ewg_mac1/Desktop/Code/ReactCode/DNReact/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ewg_mac1/Desktop/Code/ReactCode/DNReact/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ewg_mac1/Desktop/Code/ReactCode/DNReact/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ewg_mac1/Desktop/Code/ReactCode/DNReact/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/ewg_mac1/Desktop/Code/ReactCode/DNReact/src/home/Home.js\";\nimport React, { Component } from 'react';\nimport { Tabs, WhiteSpace, ListView } from 'antd-mobile';\nimport DNAxiosTool from '../NetworkCenter/DNAxios';\nimport DNApiName from '../NetworkCenter/DNApiName';\nimport axios from 'axios';\nvar tabs = [{\n  title: '首页'\n}, {\n  title: 'Android'\n}, {\n  title: '前端'\n}, {\n  title: 'iOS'\n}, {\n  title: '产品'\n}, {\n  title: '设计'\n}, {\n  title: '后端'\n}];\nvar baseUrl = \"https://timeline-merger-ms.juejin.im\";\n\nif (process.env.NODE_ENV === 'development') {\n  baseUrl = \"http://localhost:3000\";\n}\n\nvar instance = axios.create({\n  // baseURL: 'https://timeline-merger-ms.juejin.im',\n  baseURL: baseUrl,\n  timeout: 10000,\n  responseType: 'json',\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n  }\n});\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.renderContent = function (tab) {\n      return React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100%',\n          backgroundColor: '#fff',\n          flexDirection: 'column'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Content of \", tab.title), React.createElement(ListView, {\n        ref: function ref(el) {\n          return _this.lv = el;\n        },\n        dataSource: _this.state.dataSouce,\n        useBodyScroll: true,\n        renderRow: _this.renderItem,\n        scrollEventThrottle: 200,\n        onEndReached: _this.loadMore(),\n        className: \"am-list sticky-list\",\n        onEndReachedThreshold: 0.01,\n        renderSeparator: function renderSeparator(section, index) {\n          return React.createElement(\"div\", {\n            style: {\n              height: 10,\n              backgroundColor: '#f3f3f3'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }));\n    };\n\n    var da = new ListView.DataSource({\n      rowHasChanged: function rowHasChanged(r1, r2) {\n        return r1 != r2;\n      }\n    });\n    _this.state = {\n      dataSouce: da.cloneWithRows([1, 2]),\n      pageIndex: 1,\n      noMoreData: false\n    };\n    _this.dsDataLists = [];\n    _this.renderItem = _this.renderItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getHotRecommendInfo();\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore() {\n      console.log('加载更多');\n    } // 获取首页热门推荐数据\n\n  }, {\n    key: \"getHotRecommendInfo\",\n    value: function getHotRecommendInfo(param) {\n      DNAxiosTool.get(DNApiName.ApiForEntryHotRecomment, {\n        params: {\n          \"device_id\": 'D2F3A47D-6BCA-446A-8D91-C2B7F1068DE1',\n          \"limit\": '3',\n          \"src\": 'ios',\n          \"token\": \"eyJhY2Nlc3NfdG9rZW4iOiJWMGZIQjNYd1ROazZNRXEzIiwicmVmcmVzaF90b2tlbiI6IllOT3hBMXhOSVU4dXNiSmEiLCJ0b2tlbl90eXBlIjoibWFjIiwiZXhwaXJlX2luIjoyNTkyMDAwfQ==\",\n          \"uid\": \"5b8390f3e51d45389d3b5028\"\n        }\n      }).then(function (rsp) {\n        console.log(rsp);\n      }).catch(function (err) {});\n    } // 渲染Cell\n\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item, section, pageIndex) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          height: 30,\n          backgroundColor: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }));\n    } // 标签内容\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        tabs: tabs,\n        initalPage: '2',\n        renderTabBar: function renderTabBar(props) {\n          return React.createElement(Tabs.DefaultTabBar, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, this.renderContent)));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport { Home as default };","map":{"version":3,"sources":["/Users/ewg_mac1/Desktop/Code/ReactCode/DNReact/src/home/Home.js"],"names":["React","Component","Tabs","WhiteSpace","ListView","DNAxiosTool","DNApiName","axios","tabs","title","baseUrl","process","env","NODE_ENV","instance","create","baseURL","timeout","responseType","headers","Home","props","renderContent","tab","display","alignItems","justifyContent","height","backgroundColor","flexDirection","el","lv","state","dataSouce","renderItem","loadMore","section","index","da","DataSource","rowHasChanged","r1","r2","cloneWithRows","pageIndex","noMoreData","dsDataLists","bind","getHotRecommendInfo","console","log","param","get","ApiForEntryHotRecomment","params","then","rsp","catch","err","item"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\n\nimport {Tabs, WhiteSpace , ListView} from 'antd-mobile'\nimport DNAxiosTool from '../NetworkCenter/DNAxios'\nimport DNApiName from '../NetworkCenter/DNApiName'\n\nimport axios from 'axios'\n\nconst tabs = [\n    { title: '首页' },\n    { title: 'Android'},\n    { title: '前端' },\n    { title: 'iOS'},\n    { title: '产品' },\n    { title: '设计'},\n    { title: '后端' },\n];\n\nlet baseUrl = \"https://timeline-merger-ms.juejin.im\";\n\nif(process.env.NODE_ENV === 'development'){\n    baseUrl = \"http://localhost:3000\"\n}\n\nvar instance = axios.create({\n    // baseURL: 'https://timeline-merger-ms.juejin.im',\n    baseURL:baseUrl,\n    timeout: 10000,\n    responseType : 'json',\n    headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n    }\n  });\n\nexport default class Home extends Component{\n\n    constructor(props){\n        super(props)\n\n        var da = new ListView.DataSource({rowHasChanged:(r1,r2)=>{return r1 != r2 }})\n\n        this.state = {\n            dataSouce : da.cloneWithRows([1,2]),\n            pageIndex : 1,\n            noMoreData : false\n        }\n        this.dsDataLists = [];\n        this.renderItem = this.renderItem.bind(this);\n    }\n\n    componentDidMount(){\n        this.getHotRecommendInfo()\n    }\n\n    loadMore(){\n        console.log('加载更多');\n    }\n\n    // 获取首页热门推荐数据\n    getHotRecommendInfo(param){\n        \n        DNAxiosTool.get(DNApiName.ApiForEntryHotRecomment , {\n            params: {\n            \"device_id\" : 'D2F3A47D-6BCA-446A-8D91-C2B7F1068DE1',\n            \"limit\" : '3',\n            \"src\" : 'ios',\n            \"token\" : \"eyJhY2Nlc3NfdG9rZW4iOiJWMGZIQjNYd1ROazZNRXEzIiwicmVmcmVzaF90b2tlbiI6IllOT3hBMXhOSVU4dXNiSmEiLCJ0b2tlbl90eXBlIjoibWFjIiwiZXhwaXJlX2luIjoyNTkyMDAwfQ==\",\n            \"uid\" : \"5b8390f3e51d45389d3b5028\"\n            }\n        }).then(rsp => {\n            console.log(rsp)\n        }).catch(err => {\n        })\n    }\n    // 渲染Cell\n    renderItem(item ,section ,pageIndex){\n        return (\n            <div>\n                <div style={{height:30,backgroundColor:'red',}}></div>\n            </div>\n        );\n    }\n\n    // 标签内容\n    renderContent = tab =>(\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', backgroundColor: '#fff' ,flexDirection:'column'}}>\n            <p>Content of {tab.title}</p>\n\n            <ListView\n                ref = {el => this.lv = el}\n                dataSource = {this.state.dataSouce}\n                useBodyScroll\n                renderRow={this.renderItem}\n                scrollEventThrottle={200}\n                onEndReached={this.loadMore()}\n                className=\"am-list sticky-list\"\n                onEndReachedThreshold={0.01}\n                renderSeparator={(section,index)=>{\n                    return (<div style={{height:10,backgroundColor:'#f3f3f3'}}></div>)\n                }}\n            ></ListView>\n            \n        </div>\n    );\n\n    render(){\n        return (\n            <div>\n                {/* 顶部导航栏 */}\n                <div style={{ height: \"100%\" }}>\n                    <Tabs tabs={tabs}\n                        initalPage={'2'}\n                        renderTabBar={props => <Tabs.DefaultTabBar {...props} />}\n                    >\n                    {this.renderContent}\n                    </Tabs>\n                </div>\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}